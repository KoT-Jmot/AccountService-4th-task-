@using Zad4.Data
@using Zad4.Controllers
@model List<User>
@{ 
}
<form method="post">
    <button type="submit" class="btn btn-primary mt-2 w-100" asp-controller="Home" asp-action="Message" asp-route-login="@ViewData["User"]">Message</button>
    <button type="submit" class="btn btn-secondary m-2" asp-controller="Home" asp-action="ActionWithAccaunt" asp-route-login="@ViewData["User"]" asp-route-actions="Delete">Delete</button>
    <button type="submit" class="btn btn-secondary m-2" asp-controller="Home" asp-action="ActionWithAccaunt" asp-route-login="@ViewData["User"]" asp-route-actions="UnBlock">UnBlock</button>
    <button type="submit" class="btn btn-secondary m-2" asp-controller="Home" asp-action="ActionWithAccaunt" asp-route-login="@ViewData["User"]" asp-route-actions="Block">Block</button>
    <table class="table table-dark table-striped m-auto pt-5">
        <tr>
            <th><button type="button" class="btn btn-primary m-auto w-100" onclick="SelectAll()">All</button></th>
            <th scope="col">Name</th>
            <th scope="col">Login</th>
            <th scope="col">RegDate</th>
            <th scope="col">LastLogDate</th>
            <th scope="col">Status</th>
        </tr>
        @for (int i = 0; i < Model.Count; i++)
        {
            <tr>
                <th scope="col"><input name="selectedUsers" value="@Model[i].Id" id="@i" type="checkbox" class=" m-auto w-100" style="outline: none;" /></th>
                <th scope="col">@Model[i].Name</th>
                <th scope="col">@Model[i].Login</th>
                <th scope="col">@Model[i].RegDate</th>
                <th scope="col">@Model[i].LastLogDate</th>
                <th scope="col">@Model[i].Status</th>
            </tr>
        }
    </table>
    <button type="submit" class="btn btn-primary mt-2 w-100" asp-controller="Home" asp-action="Index">Log Out</button>
</form>
<script>
    function SelectAll() {
        var a = false;
        for (var i = 0; i <@Model.Count; i++)
            if (document.getElementById(i).checked == false) {
                a = true;
                break;
            }
        for (var i = 0; i <@Model.Count; i++)
            document.getElementById(i).checked = a;
    }
</script>